<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no' name='viewport'/>
    <title>L´AEREO</title>
    <link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic|Roboto+Mono:400,500|Material+Icons' rel='stylesheet'/>
    <link crossorigin='anonymous' href='https://pro.fontawesome.com/releases/v5.10.0/css/all.css' integrity='sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p' rel='stylesheet'/>
    <link href='./styles/main.css' rel='stylesheet'/>
    <link href='./styles/pop_up.css' rel='stylesheet'/>
    <link href='./styles/services.css' rel='stylesheet'/>
</head>
<body>
    <header class="header">
        <nav>
            <div>
                <img class="logo" src="./assets/LOGO_LAEREO.svg"/>
                <div class="menu_btn mobile">
                    <div class="line"></div>
                </div>
                
                <div class="menu_background mobile" style="display: none;"></div>
                <div class="menu">
                    <div class="menu_title"></div>
                    <ul class="ops mini-scroll">
                        <li class="dropdown" data-section="servicios"><a style="cursor: pointer;">Servicios</a>
                            <ul class="dropdown-content ">
                                <li><a href="?page=mantenimiento">Mantenimiento</a></li>
                                <li><a href="?page=avionica">Aviónica</a></li>
                                <li><a href="?page=motores">Motores y Accesorios</a></li>
                                <li><a href="?page=repuestos">Repuestos</a></li>
                                <li><a href="?page=reparaciones">Reparaciones Estructurales</a></li>
                                <li><a href="?page=inspecciones">Inspecciones Pre-Compra y Venta de Aeronaves</a></li>
                            </ul>
                        </li>
                        <li><a href="?page=quienes-somos">Quiénes Somos</a></li>
                        <li><a href="?page=habilitaciones">Habilitaciones</a></li>
                        <li class="last_child"><a href="?page=galeria">Galería</a></li>
                        
                    </ul>
                    <div class="contact-info mobile">
                        <a href="tel:+543541548995"><p><img src="./assets/icons/telefono.svg" width="20px" height="20px" style="flex: 0 0 20px;"/> +54 3541 54-8995</p></a>
                        <a href="mailto:tarlaareo@gmail.com"><p><img src="./assets/icons/mail.svg" width="20px" height="20px" style="flex: 0 0 20px;"/> tarlaareo@gmail.com</p></a>
                        <a href="https://www.facebook.com/LaereoTallerAeronautico" target="_blank"><p><img src="./assets/icons/facebook.svg" width="20px" height="20px" style="flex: 0 0 20px;"/> L'aereo Taller Aeronáutico</p></a>
                        <a href="https://www.instagram.com/tarlaereo" target="_blank"><p><img src="./assets/icons/insta.svg" width="20px" height="20px" style="flex: 0 0 20px;"/> @tarlaereo</p></a>
                    </div>
                </div>
                
            </div>
            <div>
                <div class="contact-button not_mob">Contacto</div>
            </div>
        </nav>
    </header>
    <div class="carousel">
        <ul aria-live="polite" aria-atomic="true">
            <li>
                <div class="img banner_2" alt="Slide 1" style="background-image: url('./assets//BANNER_1.webp')">
                <div class="carousel-text">
                    <h2 style="font-style: oblique"><strong>SEGURIDAD</strong> Y PRESICIÓN</h2>
                    <p>EN CADA VUELO</p>
                    <div style="display: flex; gap: 20px; margin-top: 10px;">
                        <div class="btn">SOLICITAR SERVICIO</div>
                    </div>
                </div>
            </li>
            <li>
                <div class="img" alt="Slide 1" style="background-image: url('./assets//BANNER_1.webp')">
                <div class="carousel-text">
                    <h2>LOREM IPSUM</h2>
                    <p><strong>AIRCRAFT</strong> MAINTENANCE</p>
                    <div style="display: flex; gap: 20px; margin-top: 10px;">
                        <div class="btn">LEARN MORE</div>
                        <div class="btn">BUY</div>
                    </div>
                </div>
            </li>
            <li>
                <div class="img" alt="Slide 1" style="background-image: url('./assets//BANNER_1.webp')">
                <div class="carousel-text">
                    <h2>LOREM IPSUM</h2>
                    <p><strong>AIRCRAFT</strong> MAINTENANCE</p>
                    <div style="display: flex; gap: 20px; margin-top: 10px;">
                        <div class="btn">LEARN MORE</div>
                        <div class="btn">BUY</div>
                    </div>
                </div>
            </li>
        </ul>
        <div class="carousel-controls">
            <span class="prev"><i class="fas fa-chevron-left"></i></span>
            <span class="next"><i class="fas fa-chevron-right"></i></span>
        </div>
        <div class="progress-bars">
            <div class="progress-bar">
                <div class="loading"></div>
            </div>
            <div class="progress-bar">
                <div class="loading"></div>
            </div>
            <div class="progress-bar">
                <div class="loading"></div>
            </div>
        </div>
    </div>

    
    <div class="content">
        <div class="services-section">
            <h2 class="xp" style="font-weight: 300; font-size: 16px; white-space: nowrap; margin: 40px; scale: 1.5; max-width: 1200px;">MÁS DE 25 AÑOS<br><strong style="font-size: 20px; font-style: oblique;">DE EXPERIENCIA INTERNACIONAL</strong><br> EN MANTENIMIENTO AERONÁUTICO</h2>
            <h3 style="margin-top: 30px; text-align: left;">Servicios</h3>
            <div class="services-icons">
                <div class="service-item"><img src="./assets/home_icons/mantenimiento.svg" alt="Mantenimiento"><p>Mantenimiento</p></div>
                <div class="service-item"><img src="./assets/home_icons/avionica.svg" alt="Aviónica"><p>Aviónica</p></div>
                <div class="service-item"><img src="./assets/home_icons/motores.svg" alt="Motores"><p>Motores y Accesorios</p></div>
                <div class="service-item"><img src="./assets/home_icons/repuestos.svg" alt="Repuestos"><p>Repuestos</p></div>
                <div class="service-item"><img src="./assets/home_icons/reparaciones.svg" alt="Reparaciones"><p>Reparaciones Estructurales</p></div>
            </div>
            <div class="images-section">
                <img src="./assets/images/image_1.webp" alt="Imagen 1" class="responsive-img">
                <img src="./assets/images/image_2.webp" alt="Imagen 2" class="responsive-img">
            </div>
        </div>
    </div>

    <div id="contactPopup" class="popup-container">
        <div class="popup-content">
            <span class="close-popup">&times;</span>
            <div style="display: flex; align-items: center; gap: 7px;">
                <img src="./assets/icons/contactos.svg" width="15px"/>
                <h3>Contacto</h3>
            </div>
            
            <div class="contact-info">
                <a href="tel:+543541548995"><p><img src="./assets/icons/telefono.svg" width="20px"/> +54 3541 54-8995</p></a>
                <a href="mailto:tarlaareo@gmail.com"><p><img src="./assets/icons/mail.svg" width="20px"/> tarlaareo@gmail.com</p></a>
                <a href="https://www.facebook.com/LaereoTallerAeronautico" target="_blank"><p><img src="./assets/icons/facebook.svg" width="20px"/> L'aereo Taller Aeronáutico</p></a>
                <a href="https://www.instagram.com/tarlaereo" target="_blank"><p><img src="./assets/icons/insta.svg" width="20px"/> @tarlaereo</p></a>
            </div>
        </div>
    </div>

    <div id="content">
        <!-- This is where content will dynamically load -->
        <div class="banner">
            <img id="section-image" src="./assets/services/services_banner.webp" alt="">
            <div class="info">
                <h1 id="section-title"></h1>
                <div id="breadcrumbs"></div>
            </div>
            
        </div>
        <div class="text">
            <div class="list">

            </div>
            <div class="lateral">
                <div class="btn-group">
                    <a href="https://api.whatsapp.com/send?phone=5493541548995" target="_blank"><div class="btn black consultar"><img src="./assets/icons/wpp.svg" width="20px" height="20px" style="flex: 0 0 20px;"/> Consultar</div></a>
                    <a href="tel:+543541548995"><div class="btn black llamar"><img src="./assets/icons/telefono.svg" width="20px" height="20px" style="flex: 0 0 20px;"/> Llamar</div></a>
                </div>
                <img src="./assets/services/avion.webp" width="260px" style="margin-bottom: 50px;">
            </div>
        </div>
        
        
        <div id="inner-content"></div>
    </div>

    <div class="mantenimiento" style="display: none;">
        <div class="card-container">
            <div class="card"><strong>Inspección anual</strong> de aeronaves Turbohélices y Pistón hasta <strong>5700kg</strong></div>
            <div class="card"><strong>Inspecciones Intermedias</strong></div>
            <div class="card"><strong>Instalaciones de STC</strong></div>
            <div class="card"><strong>Instalaciones</strong> de Integrales de Aviónica y <strong>Reformas</strong> de Paneles de Instrumentos</div>
            <div class="card"><strong>Reparaciones y reformas estructurales</strong></div>
            <div class="card"><strong>Servicios de NDT</strong> (Ensayos no Destructivos)</div>
          </div>
    </div>

    <!-- <footer class="footer">
        <p>© 2023 DJI Clone</p>
    </footer> -->

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        
        let home = true
    $(document).ready(function(){
        var carousel = $('.carousel ul');
        var slides = $('li', carousel);
        var currentIndex = 0;
        var slideInterval = 5000; // Change slide every 5 seconds
        var timer;

        function moveSlide(direction) {
            if (direction === 'next') {
                currentIndex = (currentIndex + 1) % slides.length;
            } else {
                currentIndex = (currentIndex - 1 + slides.length) % slides.length;
            }
            carousel.css('transform', 'translateX(-' + (currentIndex *  slides.width()) + 'px)');
            updateProgressBars();
            clearTimeout(timer);
            timer = setTimeout(autoSlide, slideInterval);
        }

        function moveTo(index){
            currentIndex = index;
            carousel.css('transform', 'translateX(-' + (currentIndex *  slides.width()) + 'px)');
            updateProgressBars();
            clearTimeout(timer);
            timer = setTimeout(autoSlide, slideInterval);
        }

        $(window).on('resize', function() {
            moveTo(currentIndex)
        });

        $('.next').click(function(){
            moveSlide('next');
        });

        $('.prev').click(function(){
            moveSlide('prev');
        });

        function autoSlide(){
            moveSlide('next');
        }

        timer = setTimeout(autoSlide, slideInterval);

        var startX, endX;
        $('.carousel').on('touchstart', function(event) {
            startX = event.originalEvent.touches[0].pageX;
        });

        $('.carousel').on('touchmove', function(event) {
            endX = event.originalEvent.touches[0].pageX;
        });

        $('.carousel').on('touchend', function() {
            if(startX && endX) {
                if(endX - startX > 50) {
                    moveSlide('prev');
                } else if(startX - endX > 50) {
                    moveSlide('next');
                }
            }
            clearTimeout(timer);
            timer = setTimeout(autoSlide, slideInterval);
            startX = null;
            endX = null;
        });

        function updateProgressBars() {
            $('.progress-bar .loading').stop(true, true).removeClass('active').css({width: 0})
            var currentBar = $($('.progress-bar')[currentIndex]);
            currentBar.find('.loading').addClass('active').animate({ width: '100%' }, slideInterval-20);

            //animaciones
            let $element = $('.carousel-text').eq(currentIndex);

            $element.css({
                opacity: 0,
                'padding-bottom': '200px' // Empieza más arriba
            });

            $element.animate({
                opacity: 1, 
                'padding-bottom': '0'
            }, 1000, 'swing'); // 'swing' simula 'ease-in-out'

        }

        $('.progress-bar').click(function(){
            var index = $(this).index('.progress-bar');
            moveTo(index)
        });

        updateProgressBars();

        // Header transparency effect
        $(window).scroll(()=> {
            if(home){
                if ($(this).scrollTop() > 10) {
                    $('.header').addClass('scrolled');
                } else {
                    $('.header').removeClass('scrolled');
                }
            } else {
                
                $('.header').addClass('scrolled');
            }
        });

        // Función para mostrar el pop-up
        function showPopup() {
            $('#contactPopup').fadeIn();
        }

        // Función para cerrar el pop-up cuando se hace clic afuera
        $(document).on('click', function(event) {
            if (!$(event.target).closest('.popup-content').length && !$(event.target).is('.contact-button')) {
                $('#contactPopup').fadeOut();
            }
        });

        // Mostrar el pop-up cuando se hace clic en el botón de contacto
        $('.contact-button').on('click', function(event) {
            event.preventDefault();
            showPopup();
        });

        // Cerrar el pop-up cuando se hace clic en el botón de cerrar
        $('.close-popup').on('click', function() {
            $('#contactPopup').fadeOut();
        });

        // Manejo del clic en "Servicios" para mantener el menú abierto
        $('.dropdown').on('click', function(event) {
            event.stopPropagation();
            $(this).toggleClass('open');
        });

        // Cerrar el menú al hacer clic en cualquier parte fuera del menú o en una opción del menú
        $(document).on('click', function(event) {
            if (!$(event.target).closest('.dropdown').length) {
                $('.dropdown').removeClass('open');
            }
        });

        // Cerrar el menú al hacer clic en una opción del menú
        $('.dropdown-content li a').on('click', function(event) {
            event.preventDefault();
            $('.dropdown').removeClass('open');
        });

        $('.menu_btn.mobile, .menu_background').click(function() {
            // Togglea la clase 'open' en el botón de menú
            $('.menu_btn.mobile').toggleClass('open');
            
            // Togglea la clase 'open' en el menú
            $('.menu').toggleClass('open');
            
            // Togglea la clase 'open' en el fondo del menú
            $('.menu_background').toggleClass('open');
        });

        // Manejo del clic en "Servicios" para abrir/cerrar el menú y cambiar la flecha
        $('.menu li.dropdown').on('click', function(event) {
            event.stopPropagation();
            $(this).toggleClass('open');
            $(this).find('.dropdown-content').toggleClass('open');
        });

        // Asegúrate de cerrar el menú desplegable si se hace clic fuera
        $(document).on('click', function(event) {
            if (!$(event.target).closest('.menu li.dropdown').length && !$(event.target).closest('.menu_btn.mobile').length) {
                // closeMenu()
            }
        });

        
    });
    function closeMenu(){
        $('.menu').removeClass('open');
        $('.menu_background').removeClass('open');
        $('.menu_btn.mobile').removeClass('open');
    }
    
    $(document).ready(()=>{
        $('#content').hide()
        // New function to handle dynamic content loading
        function loadContent(page) {
            
            
            const contentMap = {
                'mantenimiento': { title: 'Mantenimiento', bread: 'Servicios', image: './assets/BANNER_1.webp'},
                'avionica': { title: 'Aviónica', bread: 'Servicios', image: './assets/BANNER_1.webp'},
                'motores': { title: 'Motores y Accesorios', bread: 'Servicios', image: './assets/BANNER_1.webp'},
                'repuestos': { title: 'Repuestos', bread: 'Servicios', image: './assets/BANNER_1.webp'},
                'reparaciones': { title: 'Reparaciones Estructurales', bread: 'Servicios', image: './assets/BANNER_1.webp'},
                'inspecciones': { title: 'Inspecciones Pre-Compra y Venta de Aeronaves', bread: 'Servicios', image: './assets/BANNER_1.webp'},
                'quienes-somos': { title: 'Quiénes Somos', image: './assets/BANNER_1.webp'},
                'habilitaciones': { title: 'Habilitaciones', image: './assets/BANNER_1.webp'},
                'galeria': { title: 'Galería', image: './assets/BANNER_1.webp'}
            };

            if (contentMap[page]) {
                closeMenu()
                window.scrollTo(0, 0);
                home = false
                $('.header').addClass('scrolled');
                $('.carousel, .content').hide()
                $('#content').show()
                $('#section-title').text(contentMap[page].title);
                $('#breadcrumbs').html('<a style="text-decoration: underline;">Inicio</a> > <span>' + (contentMap[page].bread ? (contentMap[page].bread +' > ') : '') + contentMap[page].title + '</span>');                
                $('#content .list').html($('.'+page).clone().show())
                $('#section-text').text(contentMap[page].text);
                
                $('.logo, #breadcrumbs a').off('click').click(()=>{
                    goHome()
                })
            }
        }

        
        // Event listener for menu items
        $('nav a').not('.contact-info a').click(function(e){
            e.preventDefault();
            const href = $(this).attr('href');
            const page = href.split('=')[1];
            if (page) {
                history.pushState({}, '', href);
                loadContent(page);
            }
        });

        // Function to load content based on URL parameter
        function loadFromURL() {
            const urlParams = new URLSearchParams(window.location.search);
            const page = urlParams.get('page'); // Default to 'quienes-somos' if no page parameter
            loadContent(page);
        }

        // Load content when the page loads or when the URL changes
        loadFromURL();
        window.addEventListener('popstate', loadFromURL);
        
    });

    function goHome() {
        window.location.href = window.location.pathname;
    }

    </script>
</body>
</html>